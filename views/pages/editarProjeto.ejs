<%- include('../partials/header') %>

<div class="form-container">
  <h1>Editar Projeto</h1>

  <form action="/projetos/editar/<%= projeto.id %>" method="POST" enctype="multipart/form-data" class="projeto-form">
    <div class="form-group">
      <label for="titulo">T√≠tulo do Projeto *</label>
      <input type="text" id="titulo" name="titulo" value="<%= projeto.titulo %>" required maxlength="150">
    </div>

    <div class="form-group">
      <label for="descricao">Descri√ß√£o *</label>
      <textarea id="descricao" name="descricao" rows="5" required><%= projeto.descricao %></textarea>
    </div>

    <div class="form-group">
      <label for="link">Link do Projeto (GitHub)</label>
      <input type="url" id="link" name="link" value="<%= projeto.link || '' %>" placeholder="https://github.com/seu-usuario/seu-projeto">
    </div>

    <div class="form-group">
      <label for="tecnologias">Tecnologias Utilizadas (separadas por v√≠rgula)</label>
      <input type="text" id="tecnologias" name="tecnologias" value="<%= projeto.tecnologias || '' %>" placeholder="Node.js, Express, MySQL, React">
    </div>

    <div class="form-group">
      <label for="status">Status do Projeto *</label>
      <select id="status" name="status" required>
        <option value="em andamento" <% if (projeto.status === 'em andamento') { %>selected<% } %>>Em Andamento</option>
        <option value="concluido" <% if (projeto.status === 'concluido') { %>selected<% } %>>Conclu√≠do</option>
      </select>
    </div>

    <div class="form-group">
      <label for="dataInicio">Data de In√≠cio</label>
      <input type="date" id="dataInicio" name="dataInicio" value="<%= projeto.dataInicio ? projeto.dataInicio.toISOString().split('T')[0] : '' %>">
    </div>

    <div class="form-group">
      <label>Foto Atual</label>
      <% if (projeto.foto) { %>
        <div class="foto-atual">
          <img src="<%= projeto.foto %>" alt="<%= projeto.titulo %>">
          <p>Foto atual do projeto</p>
        </div>
      <% } else { %>
        <p class="text-muted">Nenhuma foto associada</p>
      <% } %>
    </div>

    <div class="form-group">
      <label for="foto">Alterar Foto do Projeto</label>
      <input type="file" id="foto" name="foto" accept="image/*">
      <small>üìÅ Deixe em branco para manter a foto atual | M√°ximo 5MB | Formatos: JPG, PNG, GIF, WebP</small>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
      <a href="/projetos" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>

<%- include('../partials/footer') %>
